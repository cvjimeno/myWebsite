---
// src/components/sections/AboutMe.astro
// FINAL VERSION: Now using your custom Union.svg illustration.
import unionSvgRaw from '../../assets/images/illustrations/Union.svg?raw';

// We process the raw SVG string to make it styleable
// 1. Extract the inner content of the SVG (the <path>, <g>, etc.)
const contentMatch = unionSvgRaw.match(/<svg[^>]*>([\s\S]*)<\/svg>/);
let svgContent = '';

if (contentMatch) {
  // 2. Remove any hardcoded colors so our CSS can take over
  svgContent = contentMatch[1]
    .replace(/ fill="[^"]*"/g, '')
    .replace(/ stroke="[^"]*"/g, '');
}

// 3. Extract the viewBox for proper scaling
const viewBoxMatch = unionSvgRaw.match(/viewBox="([^"]*)"/);
const viewBox = viewBoxMatch ? viewBoxMatch[1] : '0 0 512 512'; // Default if not found
---
<section id="about-me" class="bg-bg-secondary dark:bg-bg-primary py-20 md:py-28">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-5 gap-12 md:gap-20 items-center">
      
      <!-- Column 1: Text Content (Unchanged) -->
      <div class="md:col-span-3 text-center md:text-left">
        <h2 class="text-3xl md:text-4xl font-bold text-text-primary mb-6 text-balance">
          ¿Qué hago aquí?
        </h2>
        <div class="prose prose-lg text-text-secondary max-w-none space-y-4"> 
          <p>
            Si sólo pudiera hacer dos cosas en la vida, lo tendría claro: <strong>aprender y enseñar</strong>. Es lo que he hecho desde que tengo memoria. De pequeño ya sabía que quería estudiar Física para entender cómo funciona el mundo. Y desde entonces no he dejado de moverme: de un campo a otro, de una técnica a la siguiente. De la física de partículas a los cultivos celulares. De la bioquímica al código. Del ratón de ordenador al ratón de laboratorio. De la pipeta a la resonancia magnética.
          </p>
          <p>
            Hoy, en plena irrupción de la inteligencia artificial, he vuelto a empezar desde abajo. He vuelto a aprender. Pero esta vez también he querido compartir lo que voy descubriendo. Como siempre, cada respuesta abre nuevas preguntas: ¿canal de YouTube o blog?, ¿escribir primero o grabar?, ¿dónde alojar todo esto? Ya lo tengo: haré <strong>mi propia web</strong>. Así además aprendo a construirla desde cero.
          </p>
          <p>
            Así que aquí estoy. <strong>Aquí estás</strong>. En mi web, donde iré guardando todo lo que aprendo, y compartiendo todo lo que pueda enseñar. De momento, ya he empezado el blog.
          </p>
        </div>
        <a href="/quien-soy" class="inline-flex items-center gap-x-2 text-accent-primary font-medium mt-8 group text-lg">
          Conóceme mejor
          <span class="transition-transform group-hover:translate-x-1">→</span>
        </a>
      </div>

      <!-- Column 2: Your Custom SVG Illustration -->
      <div class="md:col-span-2 flex items-center justify-center">
        <svg 
          class="w-full max-w-sm h-auto text-accent-primary dark:text-accent-primary" 
          viewBox={viewBox} 
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          set:html={svgContent}
        />
      </div>

    </div>
  </div>
</section>

<style is:global>
  #about-me .prose strong {
    color: var(--color-accent-primary);
    font-weight: 600;
  }
</style>