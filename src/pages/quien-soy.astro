---
// src/pages/quien-soy.astro (12-Column Grid Layout)
import BaseLayout from '../layouts/BaseLayout.astro';
import { Image } from 'astro:assets';
import Icon from '../components/common/Icon.astro';
import Button from '../components/common/Button.astro';
import InteractiveViolinPlot from '../components/InteractiveViolinPlot.jsx';

import personalPhoto from '../assets/images/whoami.webp'; 
import personalityPhoto from '../assets/images/whoami_16.webp';
---
<BaseLayout 
  title="Quién Soy" 
  description="Una mirada personal a mi historia, mis motivaciones y las ideas que me impulsan en la ciencia y la tecnología. Conóceme más allá del CV."
>
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24">
    
    <header class="max-w-4xl mx-auto text-center mb-12 md:mb-16">
      <h1 class="text-4xl md:text-5xl font-bold text-text-primary mb-4 text-balance">
        ¿Quién es Carlos Velasco?
      </h1>
      <p class="text-xl text-text-secondary leading-relaxed max-w-2xl mx-auto">
        Aquí van algunas cosas que me definen o me están pasando por la cabeza ahora mismo, por si quieres saber más de mi. Si te interesa la parte más profesional, puedes ir 
        directamente aquí :). 
      </p>
    </header>

    <!-- THE 12-COLUMN BENTO GRID -->
    <div class="max-w-[70rem] mx-auto grid grid-cols-1 md:grid-cols-12 gap-4 md:gap-6">

      <!-- Main Intro Card -->
      <div class="bento-card main-intro-card md:col-span-8 lg:row-span-1 grid md:grid-cols-[auto_1fr] gap-x-6 md:gap-x-8 md:items-end">
        <div class="hidden md:flex pl-4 pt-4 md:pl-6 md:pt-6 justify-center md:justify-start">
          <Image src={personalPhoto} alt="Carlos Velasco" width={350} height={525} format="webp" quality={90} class="max-w-[100px] md:max-w-[120px] lg:max-w-[160px] w-full h-auto" />
        </div>
        <div class="text-center md:text-left p-4 md:p-6 lg:p-8 md:py-8 lg:py-10 md:col-span-1">
          <h2 class="text-xl md:text-2xl font-semibold text-text-primary mb-2">Carlos Velasco</h2>
          <p class="text-sm md:text-base text-text-secondary mb-3 md:mb-4">Mi misión es simple: explorar la intersección entre la tecnología y la humanidad, y compartir el viaje. Creo en el aprendizaje constante y en construir en público.</p>
          <div class="flex flex-col items-center md:items-start gap-2">
            <a href="/trayectoria/" class="inline-flex items-center gap-x-2 text-accent-primary font-medium group text-sm md:text-base">Mi trayectoria profesional<span class="transition-transform group-hover:translate-x-1">→</span></a>
          </div>
        </div>
      </div>

      <!-- Violin Plot Card -->
      <div class="bento-card md:col-span-4 p-4 md:p-6 flex flex-col">
        <h3 class="font-bold text-text-primary mb-2 text-sm md:text-base">"Una gráfica vale más que mil palabras"</h3>
        <p class="text-text-secondary text-xs md:text-sm mb-3 md:mb-4 flex-grow">Me gustan los datos, la ciencia, la programación... y <span class="font-bold text-accent-primary glow-text">las gráficas</span>. Una de mis gráficas favoritas es el Violin Plot.</p>
        <InteractiveViolinPlot client:load/>
        <div class="text-xs text-text-secondary text-center mt-auto">¡Es tan bonita y útil...!</div>
      </div>
      
      <!-- YouTube Card  -->
      <div class="bento-card md:col-span-4 youtube-card p-4 md:p-6 flex flex-col justify-between">
        <div class="text-center">
          <h3 class="font-bold text-white text-sm md:text-base lg:text-lg">Uno de mis propósitos de 2025 es empezar un canal de Youtube...</h3>
        </div>
        <div class="flex items-center justify-center">
          <div class="play-button-bg"></div><div class="play-button-icon"></div>
        </div>
        <div class="text-center">
          <p class="text-white/80 text-xs md:text-sm">Aún no lo he hecho, pero dejo aquí ya preparada la tarjetita.</p>
        </div>
      </div>
    
      <!-- Colors card -->
      <div class="bento-card md:col-span-2 lg:col-span-4 learning-card p-4 md:p-6 flex flex-col">
        <div class="space-y-2 md:space-y-3 text-xs md:text-sm flex-grow">
          <div class="flex items-center gap-2 flex-wrap"> 
            Algo sobre mí que a tí probablemente no te interese es que mi color favorito es el 
            <span class="color-circle" style="background-color: #fd6a02;" title="#fd6a02"></span>, o el 
            <span class="color-circle" style="background-color: #ff7b00;" title="#ff7b00"></span>... o el 
            <span class="color-circle" style="background-color: hsl(34, 100%, 50%);" title="#ff8000"></span>. No sé, un naranja. 
          </div>
        </div>
      </div>
      
      <!-- Personality Card -->
      <div class="bento-card md:col-span-6 lg:col-span-4 personality-card p-0 grid grid-cols-[1fr_auto] gap-x-3 md:gap-x-4 items-center">
        <div class="text-center p-4 md:p-6">
          <h3 class="font-bold mb-2 text-sm md:text-base">Aparentemente mi personalidad es...</h3>
          <div class="mb-3">
            <div class="text-xl md:text-2xl font-bold mb-1">ISTP-A</div>
            <div class="text-xs md:text-sm">("Virtuoso")</div>
          </div>
        </div>
        <div class="flex pr-4 py-4 md:pr-6 md:py-6 justify-center">
          <Image src={personalityPhoto} alt="Personality illustration" width={200} height={200} format="webp" quality={90} class="max-w-[60px] md:max-w-[80px] w-full h-auto"/>
        </div>
      </div>

        <!-- Projects Card -->
        <div class="bento-card md:col-span-6 p-4 md:p-6 flex flex-col">
          <div class="flex items-center gap-2 mb-2">
            <Icon name="lucide:compass" class="w-6 h-6 md:w-7 md:h-7 text-accent-primary"/>
            <h3 class="font-semibold text-text-primary text-sm md:text-base">En qué proyectos haciendo ahora mismo</h3>
          </div>
          <div class="space-y-2">
            <div class="text-xs bg-bg-secondary px-2 py-1 rounded border-l-2 border-accent-primary"><span class="font-medium">Esta web</span> - Astro + Tailwind</div>
            <div class="text-xs bg-bg-secondary px-2 py-1 rounded border-l-2 border-accent-primary"><span class="font-medium">El Prompt</span> - (Mi nuevo blog sobre IA) </div>
            <div class="text-xs bg-bg-secondary px-2 py-1 rounded border-l-2 border-accent-primary"><span class="font-medium">Aprendiento Notion </span> para mejorar mi productividad </div>
          </div>
        </div>
    </div>
  </div>
</BaseLayout>

<style>
  /* Your styles are unchanged */
  .bento-card { background-color: var(--color-bg-card); border-radius: 0.75rem; border: 1px solid var(--color-border-card); transition: all 0.3s ease; position: relative; overflow: hidden; min-height: 140px; }
  @media (min-width: 768px) { .bento-card { border-radius: 1rem; min-height: 160px; } }
  @media (min-width: 1024px) { .bento-card { min-height: 180px; } }
  .main-intro-card { background-image: var(--bg-image-url); background-repeat: no-repeat; background-position: right -2rem bottom 0rem; background-size: 180px auto; }
  @media (min-width: 768px) { .main-intro-card { background-position: right -2rem bottom 0rem; background-size: 200px auto; } }
  @media (min-width: 1024px) { .main-intro-card { background-position: right 0rem bottom 0rem; background-size: 240px auto; } }
  .coffee-card { background: #4d3a2a; color: #f5eadd; }
  .youtube-card { background: #181818; }
  .play-button-bg { width: 5rem; height: 3.5rem; background-color: #ff0000; border-radius: 0.75rem; opacity: 0.9; transition: all 0.2s ease; position: relative; }
  .play-button-icon { position: absolute; width: 0; height: 0; border-left: 1.25rem solid white; border-top: 0.75rem solid transparent; border-bottom: 0.75rem solid transparent; transition: transform 0.2s ease; }
  .youtube-card:hover .play-button-bg { transform: scale(1.1); background-color: #ff2525; }
  .ai-card { background: linear-gradient(135deg, var(--color-accent-primary), #1e293b); color: white; }
  .personality-card { background: linear-gradient(135deg,  #F4C730, #BB7E13); color: white; }
  .learning-card { background-color: var(--color-bg-secondary); }
  .color-circle { display: inline-block; width: 2.5em; height: 2.5em; border-radius: 50%; vertical-align: middle; cursor: pointer; transition: all 0.2s ease; position: relative; }
  .color-circle:hover { transform: scale(1.3); box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); }
  .glow-text { text-shadow: 0 0 8px var(--color-accent-primary); }
  @keyframes pulse { from { opacity: 0.7; transform: scale(0.95); } to { opacity: 1; transform: scale(1.05); } }
</style>